"use strict";
/**
 * Copyright 2023-2024 Shinami Corp.
 * SPDX-License-Identifier: Apache-2.0
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.createSuiClient = void 0;
const client_1 = require("@mysten/sui/client");
const endpoints_js_1 = require("./endpoints.js");
const region_js_1 = require("../region.js");
/**
 * Creates a Sui RPC client using Shinami Node service.
 * @param accessKey Node access key. Note that the access key also determines which network you are
 *    targeting.
 * @param url Optional JSON RPC URL override.
 * @param wsUrl Optional WebSocket URL override.
 * @returns Sui RPC client using Shinami Node service.
 */
function createSuiClient(accessKey, url = (0, region_js_1.inferRegionalValueFromAccessKey)(accessKey, endpoints_js_1.NodeRpcUrls, (nodeRpcUrls) => nodeRpcUrls.us1), wsUrl = (0, region_js_1.inferRegionalValueFromAccessKey)(accessKey, endpoints_js_1.NodeWsUrls, (nodeWsUrls) => nodeWsUrls.us1)) {
    return new client_1.SuiClient({
        transport: new client_1.SuiHTTPTransport({
            url: `${url}/${accessKey}`,
            websocket: {
                url: `${wsUrl}/${accessKey}`,
            },
        }),
    });
}
exports.createSuiClient = createSuiClient;
